<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="Basics.css" rel="stylesheet" type="text/css" />
    <script src="jquery-1.2.6.min.js" type="text/javascript"></script>
    <script src="Linq2JS-1.0.min.js" type="text/javascript"></script>

    <script src="Datasets.js" type="text/javascript"></script>
    
    <script type="text/javascript">
        function listPeople() {
            var q = $e(people);

            listPeopleEnumerable("#peopleList", q);
        }

        function listPeopleFullName() {
            var q = $e(people).select(function(item) {
                return { FullName: item.FirstName + " " + item.LastName };
            });

            listPeopleEnumerable("#peopleListFullName", q);
        }

        function listDevelopers() {
            var q = $e(people).where(function(item) {
                return item.Job === "Developer";
            });

            listPeopleEnumerable("#developersList", q);
        }

        function listMalesByDesendingLastName() {
            var q = $e(people).where(function(item) {
                return item.Gender === "Male";
            }).orderByDescending(function(item) {
                return item.LastName;
            });

            listPeopleEnumerable("#listMalesByDesendingLastName", q);
        }

        function orderedByAge() {
            var q = $e(people).orderBy(function(item) {
                return item.Age;
            });

            listPeopleEnumerable("#orderedByAge", q);
        }

        function listPeopleEnumerable(container, people) {
            var list = $("<ul></ul");

            people.each(function(item) {
                var t = "";
                for (var i in item) {
                    t += i + ": " + item[i] + " ------ ";
                }
                $("<li>" + t + "</li>").appendTo(list);
            });

            $(container).html(list);
            
        }
    </script>
</head>
<body>
    <h1>Basics of Linq2JS</h1>
    
    <a href="http://files.lukesmith.net/linq2js-1.0.zip">Download</a>

    <div class="example">
    <h2>List all people</h2>
    <div class="code">
        $e(people);
    </div>
    <div id="peopleList" class="output"></div>
    <input type="button" value="List People" onclick="listPeople()" />
    </div>
    
    <div class="example">
    <h2>List all peoples FullNames</h2>
    <div class="code">
        $e(people).select(function(item) {
                return { FullName: item.FirstName + " " + item.LastName };
            });
    </div>
    <div id="peopleListFullName" class="output"></div>
    <input type="button" value="List Peoples Fullname" onclick="listPeopleFullName()" />
    </div>
    
    <div class="example">
    <h2>List all males ordered by descending last name.</h2>
    <div class="code">
        $e(people).where(function(item) {
                return item.Gender === "Male";
            }).orderByDescending(function(item) {
                return item.LastName;
            });
    </div>
    <div id="listMalesByDesendingLastName" class="output"></div>
    <input type="button" value="Males by descending last name" onclick="listMalesByDesendingLastName()" />
    </div>
    
    <div class="example">
    <h2>List all developers</h2>
    <div class="code">
        $e(people).where(function(item) {
                return item.Job === "Developer";
            });
    </div>
    <div id="developersList" class="output"></div>
    <input type="button" value="List Developers" onclick="listDevelopers()" />
    </div>
    
    <div class="example">
    <h2>List all people ordered by age</h2>
    <div class="code">
        $e(people).orderBy(function(item) {
                return item.Age;
            });
    </div>
    <div id="orderedByAge" class="output"></div>
    <input type="button" value="Order By Age" onclick="orderedByAge()" />
    </div>
</body>
</html>
